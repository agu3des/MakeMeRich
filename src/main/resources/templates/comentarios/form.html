<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/principal}" th:with="titulo='Formulário de Comentário'">
  <body>
      <div layout:fragment="conteudo" class="container py-3" style="max-width: 600px;">

        <form th:action="@{/comentarios/salvar}" method="post" th:object="${comentario}">
          <input type="hidden" th:field="*{id}" />
          <input type="hidden" th:field="*{transacao.id}" />

          <div class="mb-3">
            <label for="texto" class="form-label fw-semibold">Texto</label>
            <textarea id="texto" th:field="*{texto}" class="form-control" rows="4" required></textarea>
            <p th:if="${#fields.hasErrors('texto')}" th:errors="*{texto}" class="alert alert-danger"></p>
          </div>

          <div class="d-flex gap-2">
            <button type="submit" class="btn btn-success">
              <i class="bi bi-save me-1"></i>
            </button>
            <a th:href="@{/comentarios/listar/{id}(id=${comentario.transacao.id})}" class="btn btn-secondary">
              <i class="bi bi-x-circle me-1"></i> 
            </a>
          </div>
        </form>

      </div>
  </body>
</html>